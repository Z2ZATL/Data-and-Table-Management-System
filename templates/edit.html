{% extends 'layout.html' %}

{% block title %}แก้ไขข้อมูลผู้ใช้{% endblock %}

{% block content %}
<div class="hero-section">
    <div class="container">
        <div class="row">
            <div class="col-md-8 col-lg-6 mx-auto text-center text-white">
                <h1 class="display-4 fw-bold mb-4">แก้ไขข้อมูลผู้ใช้</h1>
                <p class="lead mb-4">แก้ไขข้อมูลของผู้ใช้รหัส #{{ user.id }}</p>
            </div>
        </div>
    </div>
</div>

<div class="container">
    <div class="row">
        <div class="col-md-8 col-lg-6 mx-auto">
            <div class="card shadow-lg">
                <div class="card-body p-4 p-lg-5">
                    <h2 class="card-title text-center mb-4">ฟอร์มแก้ไขข้อมูล</h2>
                    <form action="/edit/{{ user.id }}" method="post">
                        <div class="mb-3">
                            <label for="first_name" class="form-label">ชื่อ</label>
                            <input type="text" class="form-control" id="first_name" name="first_name" required placeholder="กรุณากรอกชื่อ" value="{{ user.first_name }}">
                        </div>

                        <div class="mb-3">
                            <label for="last_name" class="form-label">นามสกุล</label>
                            <input type="text" class="form-control" id="last_name" name="last_name" required placeholder="กรุณากรอกนามสกุล" value="{{ user.last_name }}">
                        </div>

                        <div class="mb-3">
                            <label for="gender" class="form-label">เพศ</label>
                            <select class="form-select" name="gender" id="gender" required>
                                <option value="" disabled>เลือกเพศ</option>
                                <option value="ชาย" {% if user.gender == 'ชาย' %}selected{% endif %}>ชาย</option>
                                <option value="หญิง" {% if user.gender == 'หญิง' %}selected{% endif %}>หญิง</option>
                            </select>
                        </div>

                        <div class="mb-3">
                            <label for="age" class="form-label">อายุ</label>
                            <input type="number" class="form-control" id="age" name="age" required placeholder="กรุณากรอกอายุ" value="{{ user.age }}">
                        </div>

                        <div class="mb-3">
                            <label for="province" class="form-label">จังหวัด</label>
                            <input type="text" class="form-control" id="province" name="province" required placeholder="กรุณากรอกจังหวัด" value="{{ user.province }}">
                        </div>
                        
                        <div class="mb-4">
                            <label for="pet" class="form-label">สัตว์เลี้ยง</label>
                            <input type="text" class="form-control" id="pet" name="pet" placeholder="กรุณากรอกชื่อหรือชนิดสัตว์เลี้ยง (ถ้ามี)" value="{{ user.pet }}">
                        </div>

                        <div class="d-flex gap-2">
                            <a href="{{ url_for('data') }}" class="btn btn-outline-secondary flex-grow-1">
                                <i class="fas fa-times me-1"></i> ยกเลิก
                            </a>
                            <button type="submit" class="btn btn-primary flex-grow-1">
                                <i class="fas fa-save me-1"></i> บันทึกข้อมูล
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}